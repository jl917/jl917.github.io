"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["6953"],{68557:function(e,n,r){r.r(n);var i=r(85893),t=r(50065);function s(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",ol:"ol",li:"li",pre:"pre",code:"code",strong:"strong",img:"img",ul:"ul"},(0,t.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"fiber",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fiber",children:"#"}),"Fiber"]}),"\n",(0,i.jsxs)(n.h3,{id:"\uC6A9\uC5B4",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\uC6A9\uC5B4",children:"#"}),"\uC6A9\uC5B4"]}),"\n",(0,i.jsx)(n.p,{children:"Fiber Architecture"}),"\n",(0,i.jsx)(n.p,{children:"Fiber Node, Fiber Tree, FiberRoot, rootFiber"}),"\n",(0,i.jsx)(n.p,{children:"Fiber Reconciler\uB294 Fiber Node \uAE30\uBC18\uC73C\uB85C \uC2E4\uD604"}),"\n","\n",(0,i.jsxs)(n.h3,{id:"vdom\uC5D0-\uB300\uD55C-\uC774\uD574",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vdom\uC5D0-\uB300\uD55C-\uC774\uD574",children:"#"}),"Vdom\uC5D0 \uB300\uD55C \uC774\uD574?"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Fiber \uAC1D\uCCB4 \uC790\uCCB4\uAC00 Vdom\uC774\uB2E4."}),"\n",(0,i.jsx)(n.li,{children:"vitrual DOM\uC740 React.createElement()\uB85C return\uB41C \uAC1D\uCCB4. fiber\uB294 vdom \uC744 realdom\uC73C\uB85C \uC2E4\uD604\uD558\uB294 \uC77C\uBD80\uBD84."}),"\n"]}),"\n","\n",(0,i.jsxs)(n.h3,{id:"fiber-\uC544\uD0A4\uD14D\uCC98\uC758-\uC758\uBBF8",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fiber-\uC544\uD0A4\uD14D\uCC98\uC758-\uC758\uBBF8",children:"#"}),"Fiber \uC544\uD0A4\uD14D\uCC98\uC758 \uC758\uBBF8"]}),"\n",(0,i.jsxs)(n.p,{children:["fiber\uB294 node\uB2E8\uC704\uB97C \uD55C\uAC1C workUnit\uC73C\uB85C \uBE44\uB3D9\uAE30 \uC774\uACE0 \uC911\uB2E8 \uAC00\uB2A5\uD55C \uC5C5\uB370\uC774\uD2B8\uB97C \uC2E4\uD604(concurrent \uBAA8\uB4DC, timeSlice\uC2E4\uD604.)\n","\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"\uB370\uC774\uD130-\uAD6C\uC870",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\uB370\uC774\uD130-\uAD6C\uC870",children:"#"}),"\uB370\uC774\uD130 \uAD6C\uC870"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",meta:"",children:"// https://github.com/facebook/react/blob/16.8.6/packages/react-reconciler/src/ReactFiber.js\nfunction FiberNode(tag: WorkTag, pendingProps: mixed, key: null | string, mode: TypeOfMode) {\n  this.tag = tag; // fiber \uB300\uC751\uD558\uB294 \uCEF4\uD3EC\uB10C\uD2B8 \uC720\uD615 Function/Class/Host\n  this.key = key;\n  this.elementType = null; // type\uC774\uB791 \uB3D9\uC77C \uD558\uC9C0\uB9CC \uC77C\uBD80 \uC81C\uC678(\uC608: React.memo\uC0AC\uC6A9\uC2DC \uC81C\uC678)\n  this.type = null; // FC=>\uD568\uC218\uC790\uCCB4, CC=>\uD074\uB798\uC2A4, HostComponent=>tagName\n  this.stateNode = null;\n\n  // \uB2E4\uB978 fiber \uC5F0\uACB0\uC6A9\n  this.return = null;\n  this.child = null;\n  this.sibling = null;\n\n  this.index = 0; // fiber\uAD00\uB828 dom insert\uD560\uB54C \uC778\uB371\uC2A4.\n  this.ref = null;\n\n  // update \uAD00\uB828\uB41C \uC0C1\uD0DC \uAD00\uB828 \uC815\uBCF4 \uC800\uC7A5.\n  this.pendingProps = pendingProps;\n  this.memoizedProps = null;\n  this.updateQueue = null;\n  this.memoizedState = null;\n  this.dependencies = null;\n\n  this.mode = mode;\n\n  // \uBD80\uC791\uC6A9\uC5D0 \uB300\uD55C \uB0B4\uC6A9 \uC800\uC7A5.\n  this.effectTag = NoEffect;\n  this.nextEffect = null;\n\n  this.firstEffect = null;\n  this.lastEffect = null;\n\n  // \uC6B0\uC120\uC21C\uC704 \uAD00\uB828 \uCC98\uB9AC\n  this.lanes = NoLanes;\n  this.childLanes = NoLanes;\n\n  // \uD574\uB2F9 fiber \uC5C5\uB370\uC774\uD2B8\uC2DC \uC5F0\uAD00\uB41C \uC791\uC5C5\uC758 fiber(workInProgressFiber => currentFiber)\n  this.alternate = null;\n}\n"})}),"\n","\n",(0,i.jsxs)(n.h3,{id:"fiberdoublebuffer",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fiberdoublebuffer",children:"#"}),"Fiber",(0,i.jsx)(n.strong,{children:"DoubleBuffer"})]}),"\n",(0,i.jsx)(n.p,{children:"\uC608\uB97C\uB4E4\uC5B4 canvas\uC5D0\uC11C \uD654\uBA74\uC744 \uADF8\uB9B4\uB54C \uB9E4\uD504\uB808\uC784\uB9C8\uB2E4 ctx.clearRect\uB85C \uC774\uC804 \uD654\uBA74\uC744 \uC9C0\uC6B4\uB2E4."}),"\n",(0,i.jsx)(n.p,{children:"\uC0C8\uB85C \uADF8\uB9AC\uB294 \uD654\uBA74 \uCEF4\uD4E8\uD305 \uC2DC\uAC04\uC774 \uB9CE\uC774 \uD544\uC694\uD560 \uACBD\uC6B0 \uD770\uC0C9 \uD654\uBA74\uB9CC \uBCF4\uC5EC\uC8FC\uB294 \uACBD\uC6B0(Flickering)\uAC00 \uC788\uB2E4."}),"\n",(0,i.jsx)(n.p,{children:"\uD574\uB2F9\uBB38\uC81C\uB97C \uD574\uACB0\uD558\uAE30 \uC704\uD574\uC11C \uBA54\uBAA8\uB9AC(cpu, gpu)\uC5D0\uC11C \uB2E4\uC74C\uD654\uBA74\uC744 \uADF8\uB9B4\uB54C \uAE4C\uC9C0 \uC774\uC804\uD654\uBA74\uC744 \uBCF4\uC5EC\uC8FC\uACE0 \uD654\uBA74\uC774 \uC644\uC131\uB41C \uD6C4\uC5D0 ctx.clearRect\uB85C \uC774\uC804\uD654\uBA74\uC744 \uC9C0\uC6B0\uACE0 \uC0C8\uD654\uBA74\uC744 \uAD50\uCCB4\uD574\uC900\uB2E4."}),"\n",(0,i.jsx)(n.p,{children:"\uC774\uC640\uAC19\uC774 \uBA54\uBAA8\uB9AC\uC5D0\uC11C \uAD6C\uC131\uD558\uACE0 \uBC14\uB85C \uAD50\uCCB4 \uD574\uC8FC\uB294 \uBC29\uC2DD\uC744 DoubleBuffer\uB77C\uACE0 \uD55C\uB2E4."}),"\n",(0,i.jsx)(n.p,{children:"current fiber \u21D2 workInProgress fiber(alternate)"}),"\n","\n",(0,i.jsxs)(n.h3,{id:"root",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root",children:"#"}),"Root"]}),"\n",(0,i.jsx)(n.p,{children:"fiberRoot(\uBCC0\uD558\uC9C0 \uC54A\uC74C.) > rootFiber > App > div"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/jl917/jl917.github.io/master/img/2022/07/25/20220725213905.png",alt:""}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"jsx-to-fiber",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jsx-to-fiber",children:"#"}),"JSX to Fiber"]}),"\n",(0,i.jsx)(n.p,{children:"JSX \u21D2 BABEL \u21D2 React.createElement \u21D2 ReactElement \u21D2 ReactDom.render \u21D2 ReactDOM.legacyCreateRootFromDOMContainer \u21D2 createFiberRoot"}),"\n","\n",(0,i.jsxs)(n.h3,{id:"fiber-\uC0DD\uC131\uC21C\uC11C",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fiber-\uC0DD\uC131\uC21C\uC11C",children:"#"}),"fiber \uC0DD\uC131\uC21C\uC11C"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/jl917/jl917.github.io/master/img/2022/07/25/20220725214257.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"*React \uC790\uC2DD\uC694\uC18C\uAC00 only textNode\uC77C \uACBD\uC6B0 \uBCC4\uB3C4 fiber\uC0DD\uC131 \uD558\uC9C0 \uC54A\uB294\uB2E4. (isDirectTextChild)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",meta:"",children:"<div>\x3c!-- 1 --\x3e\n  <header/>\x3c!-- 2 --\x3e\n    <h1>\x3c!-- 3 --\x3e\n      page Title\x3c!-- 4 --\x3e\n      <span></span>\x3c!-- 5 --\x3e\n    </h1>\n    <input />\x3c!-- 6 --\x3e\n  </header>\n  <div>contents</div>\x3c!-- 7 --\x3e\n  <footer>\x3c!-- 8 --\x3e\n    <div>\x3c!-- 9 --\x3e\n      <p>copyright</p>\x3c!-- 10 --\x3e\n      <p>email: aa@bb.com</p>\x3c!-- 11 --\x3e\n    </div>\n    <p>footer</p>\x3c!-- 12 --\x3e\n  </footer>\n</div>\n"})}),"\n","\n",(0,i.jsxs)(n.h3,{id:"\uCC38\uACE0",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\uCC38\uACE0",children:"#"}),"\uCC38\uACE0"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/acdlite/react-fiber-architecture",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/acdlite/react-fiber-architecture"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://indepth.dev/posts/1008/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react",target:"_blank",rel:"noopener noreferrer",children:"https://indepth.dev/posts/1008/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=ZCuYPiUIONs",target:"_blank",rel:"noopener noreferrer",children:"https://www.youtube.com/watch?v=ZCuYPiUIONs"})}),"\n"]})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(s,e)})):s(e)}n.default=h,h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["web%2Freact%2Fsources%2F02.md"]={toc:[{id:"\uC6A9\uC5B4",text:"\uC6A9\uC5B4",depth:3},{id:"vdom\uC5D0-\uB300\uD55C-\uC774\uD574",text:"Vdom\uC5D0 \uB300\uD55C \uC774\uD574?",depth:3},{id:"fiber-\uC544\uD0A4\uD14D\uCC98\uC758-\uC758\uBBF8",text:"Fiber \uC544\uD0A4\uD14D\uCC98\uC758 \uC758\uBBF8",depth:3},{id:"\uB370\uC774\uD130-\uAD6C\uC870",text:"\uB370\uC774\uD130 \uAD6C\uC870",depth:3},{id:"fiberdoublebuffer",text:"Fiber**DoubleBuffer**",depth:3},{id:"root",text:"Root",depth:3},{id:"jsx-to-fiber",text:"JSX to Fiber",depth:3},{id:"fiber-\uC0DD\uC131\uC21C\uC11C",text:"fiber \uC0DD\uC131\uC21C\uC11C",depth:3},{id:"\uCC38\uACE0",text:"\uCC38\uACE0",depth:3}],title:"Fiber",frontmatter:{}}}}]);