"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["7479"],{99379:function(e,n,t){t.r(n);var r=t(85893),s=t(50065);function a(e){let n=Object.assign({h4:"h4",a:"a",pre:"pre",code:"code",p:"p",ul:"ul",li:"li"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h4,{id:"\u51FD\u6570\u7EC4\u4EF6-function-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u51FD\u6570\u7EC4\u4EF6-function-component",children:"#"}),"\u51FD\u6570\u7EC4\u4EF6 (Function component)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'function Greeting(props) {\n  return <div>Hi {props.name}!</div>;\n}\nGreeting.defaultProps = {\n  name: "Guest",\n};\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5C5E\u6027\u89E3\u6784-destructuring-props",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5C5E\u6027\u89E3\u6784-destructuring-props",children:"#"}),"\u5C5E\u6027\u89E3\u6784 (Destructuring props)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'function Greeting({ name = "dao" }) {\n  return <div>Hi {props.name}!</div>;\n}\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"jsx-\u4E2D\u7684\u5C5E\u6027\u5C55\u5F00-jsx-spread-attributes",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jsx-\u4E2D\u7684\u5C5E\u6027\u5C55\u5F00-jsx-spread-attributes",children:"#"}),"JSX \u4E2D\u7684\u5C5E\u6027\u5C55\u5F00 (JSX spread attributes)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"function Greeting({ name, ...restProps }) {\n  return <div {...restProps}>Hi {name}!</div>;\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5408\u5E76\u89E3\u6784\u5C5E\u6027\u548C\u5176\u5B83\u503C-merge-destructured-props-with-other-values",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5408\u5E76\u89E3\u6784\u5C5E\u6027\u548C\u5176\u5B83\u503C-merge-destructured-props-with-other-values",children:"#"}),"\u5408\u5E76\u89E3\u6784\u5C5E\u6027\u548C\u5176\u5B83\u503C (Merge destructured props with other values)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'function MyButton(props) {\n  return (\n    <button\n      className="btn"\n      {...props}\n    />\n  );\n}\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"\u6761\u4EF6\u6E32\u67D3-conditional-rendering",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6761\u4EF6\u6E32\u67D3-conditional-rendering",children:"#"}),"\u6761\u4EF6\u6E32\u67D3 (Conditional rendering)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"// \u5982\u679C\n{\n  condition && <span>Rendered when `truthy`</span>;\n}\n// \u9664\u975E\n{\n  condition || <span>Rendered when `falsy`</span>;\n}\n// \u5982\u679C-\u5426\u5219\n{\n  condition ? <span>Rendered when `truthy`</span> : <span>Rendered when `falsy`</span>;\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u6E32\u67D3\u5C5E\u6027-render-prop",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6E32\u67D3\u5C5E\u6027-render-prop",children:"#"}),"\u6E32\u67D3\u5C5E\u6027 (Render prop)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"const Width = ({ children }) => children(500);\n<Width>{(width) => <div>window is {width}</div>}</Width>;\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u4EE3\u7406\u7EC4\u4EF6-proxy-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4EE3\u7406\u7EC4\u4EF6-proxy-component",children:"#"}),"\u4EE3\u7406\u7EC4\u4EF6 (Proxy component)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'const Button = props => <button type="button" {...props}>\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"\u6837\u5F0F\u7EC4\u4EF6-style-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6837\u5F0F\u7EC4\u4EF6-style-component",children:"#"}),"\u6837\u5F0F\u7EC4\u4EF6 (Style component)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'import classnames from "classnames";\nconst PrimaryBtn = props => <Btn {...props} primary />;\n\nconst Btn = ({ className, primary, ...props }) => (\n  <button\n    type="button"\n    className={classnames("btn", primary && "btn-primary", className)}\n    {...props}\n  />\n);\n\n<PrimaryBtn />\n<Btn primary />\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"\u7EC4\u7EC7\u4E8B\u4EF6-event-switch",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7EC4\u7EC7\u4E8B\u4EF6-event-switch",children:"#"}),"\u7EC4\u7EC7\u4E8B\u4EF6 (Event switch)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'handleEvent({type}) {\n  switch(type) {\n    case "click":\n      return require("./actions/doStuff")(/* action dates */)\n    case "mouseenter":\n      return this.setState({ hovered: true })\n    case "mouseleave":\n      return this.setState({ hovered: false })\n    default:\n      return console.warn(`No case for event type "${type}"`)\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5E03\u5C40\u7EC4\u4EF6-layout-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5E03\u5C40\u7EC4\u4EF6-layout-component",children:"#"}),"\u5E03\u5C40\u7EC4\u4EF6 (Layout component)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"<HorizontalSplit\n  leftSide={<SomeSmartComponent />}\n  rightSide={<AnotherSmartComponent />}\n/>;\nconst HorizontalSplit = ({ leftSide, rightSide }) => (\n  <FlexContainer>\n    <div>{leftSide}</div>\n    <div>{rightSide}</div>\n  </FlexContainer>\n);\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5BB9\u5668\u7EC4\u4EF6-container-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BB9\u5668\u7EC4\u4EF6-container-component",children:"#"}),"\u5BB9\u5668\u7EC4\u4EF6 (Container component)"]}),"\n",(0,r.jsx)(n.p,{children:"\u5BB9\u5668\u7528\u6765\u83B7\u53D6\u6570\u636E\u7136\u540E\u6E32\u67D3\u5230\u5B50\u7EC4\u4EF6\u4E0A\uFF0C\u4EC5\u4EC5\u5982\u6B64\u3002 \u2014Jason Bonta"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"const CommentList = ({ comments }) => (\n  <ul>\n    {comments.map(comment => (\n      <li>\n        {comment.body}-{comment.author}\n      </li>\n    ))}\n  </ul>\n);\n\nconst CommentListContainer = () => {\n  useEffect(() => {\n    $.ajax({\n      url: \"/my-comments.json\",\n      dataType: 'json',\n      success: comments =>\n        this.setState({comments: comments});\n    })\n  },[])\n\n  return <CommentList comments={this.state.comments} />\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u9AD8\u9636\u7EC4\u4EF6-higher-order-component",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9AD8\u9636\u7EC4\u4EF6-higher-order-component",children:"#"}),"\u9AD8\u9636\u7EC4\u4EF6 (Higher-order component)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u63A5\u53D7\u4E00\u4E2A\u6216\u591A\u4E2A\u7EC4\u4EF6\u4F5C\u4E3A\u8F93\u5165"}),"\n",(0,r.jsx)(n.li,{children:"\u8F93\u51FA\u4E00\u4E2A\u7EC4\u4EF6"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"const WrapContainer = (Component) => {\n  return () => (\n    <Container>\n      <Component />\n    </Container>\n  );\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u53D7\u63A7\u7EC4\u4EF6",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53D7\u63A7\u7EC4\u4EF6",children:"#"}),"\u53D7\u63A7\u7EC4\u4EF6"]}),"\n",(0,r.jsx)(n.p,{children:"input \u7684 value \u548C state \u540C\u6B65"}),"\n",(0,r.jsxs)(n.h4,{id:"sub-components",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sub-components",children:"#"}),"sub Components"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"const ListGroup = ({ children }) => <ul>{children}</ul>;\nconst List = () => (\n  <Fragment>\n    <li>1</li>\n    <li>2</li>\n  </Fragment>\n);\n\nList.group = ListGroup;\n\nconst App = () => (\n  <List.group>\n    <List />\n  </List.group>\n);\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"context",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#context",children:"#"}),"context"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:"const ContextCounter = React.createContext();\n\nconst App = () => (\n  <ContextCounter.Provider value={0}>\n    <Child />\n  </ContextCounter.Provider>\n);\n\nconst Child = () => {\n  const count = useContext(ContextCounter);\n  return <h1>{count}</h1>;\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"createportal",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createportal",children:"#"}),"createPortal"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'import { createPortal } from "react-dom";\n\nconst Po = ({ children }) => {\n  return createPortal(children, document.getElementById("modal"));\n};\n\nexport default Po;\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"profiler",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#profiler",children:"#"}),"Profiler"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",meta:"",children:'import React, { Profiler, useState } from "react";\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n\n  const onRender = (id, phase, actualDuration, baseDuration, startTime, commitTime, interactions) => {\n    // id: string - \u53D1\u751F\u63D0\u4EA4\u7684 Profiler \u6811\u7684 id\u3002 \u5982\u679C\u6709\u591A\u4E2A profiler\uFF0C\u5B83\u80FD\u7528\u6765\u5206\u8FA8\u6811\u7684\u54EA\u4E00\u90E8\u5206\u53D1\u751F\u4E86\u201C\u63D0\u4EA4\u201D\u3002\n    // phase: "mount" | "update" - \u5224\u65AD\u662F\u7EC4\u4EF6\u6811\u7684\u7B2C\u4E00\u6B21\u88C5\u8F7D\u5F15\u8D77\u7684\u91CD\u6E32\u67D3\uFF0C\u8FD8\u662F\u7531 props\u3001state \u6216\u662F hooks \u6539\u53D8\u5F15\u8D77\u7684\u91CD\u6E32\u67D3\u3002\n    // actualDuration: number - \u672C\u6B21\u66F4\u65B0\u5728\u6E32\u67D3 Profiler \u548C\u5B83\u7684\u5B50\u4EE3\u4E0A\u82B1\u8D39\u7684\u65F6\u95F4\u3002 \u8FD9\u4E2A\u6570\u503C\u8868\u660E\u4F7F\u7528 memoization \u4E4B\u540E\u80FD\u8868\u73B0\u5F97\u591A\u597D\u3002\uFF08\u4F8B\u5982 React.memo\uFF0CuseMemo\uFF0CshouldComponentUpdate\uFF09\u3002 \u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u7531\u4E8E\u5B50\u4EE3\u53EA\u4F1A\u56E0\u7279\u5B9A\u7684 prop \u6539\u53D8\u800C\u91CD\u6E32\u67D3\uFF0C\u56E0\u6B64\u8FD9\u4E2A\u503C\u5E94\u8BE5\u5728\u7B2C\u4E00\u6B21\u88C5\u8F7D\u4E4B\u540E\u663E\u8457\u4E0B\u964D\u3002\n    // baseDuration: number - \u5728 Profiler \u6811\u4E2D\u6700\u8FD1\u4E00\u6B21\u6BCF\u4E00\u4E2A\u7EC4\u4EF6 render \u7684\u6301\u7EED\u65F6\u95F4\u3002 \u8FD9\u4E2A\u503C\u4F30\u8BA1\u4E86\u6700\u5DEE\u7684\u6E32\u67D3\u65F6\u95F4\u3002\uFF08\u4F8B\u5982\u5F53\u5B83\u662F\u7B2C\u4E00\u6B21\u52A0\u8F7D\u6216\u8005\u7EC4\u4EF6\u6811\u6CA1\u6709\u4F7F\u7528 memoization\uFF09\u3002\n    // startTime: number - \u672C\u6B21\u66F4\u65B0\u4E2D React \u5F00\u59CB\u6E32\u67D3\u7684\u65F6\u95F4\u6233\u3002\n    // commitTime: number - \u672C\u6B21\u66F4\u65B0\u4E2D React commit \u9636\u6BB5\u7ED3\u675F\u7684\u65F6\u95F4\u6233\u3002 \u5728\u4E00\u6B21 commit \u4E2D\u8FD9\u4E2A\u503C\u5728\u6240\u6709\u7684 profiler \u4E4B\u95F4\u662F\u5171\u4EAB\u7684\uFF0C\u53EF\u4EE5\u5C06\u5B83\u4EEC\u6309\u9700\u5206\u7EC4\u3002\n    // interactions: Set - \u5F53\u66F4\u65B0\u88AB\u5236\u5B9A\u65F6\uFF0C\u201Cinteractions\u201D \u7684\u96C6\u5408\u4F1A\u88AB\u8FFD\u8E2A\u3002\uFF08\u4F8B\u5982\u5F53 render \u6216\u8005 setState \u88AB\u8C03\u7528\u65F6\uFF09\u3002\n  };\n\n  return (\n    <Profiler\n      id="App"\n      onRender={onRender}\n    >\n      <div>{count}</div>\n      <button onClick={() => setCount(count + 1)}>sc</button>\n    </Profiler>\n  );\n};\n\nexport default App;\n'})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}n.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["web%2Freact%2Fpattern.md"]={toc:[{id:"\u51FD\u6570\u7EC4\u4EF6-function-component",text:"\u51FD\u6570\u7EC4\u4EF6 (Function component)",depth:4},{id:"\u5C5E\u6027\u89E3\u6784-destructuring-props",text:"\u5C5E\u6027\u89E3\u6784 (Destructuring props)",depth:4},{id:"jsx-\u4E2D\u7684\u5C5E\u6027\u5C55\u5F00-jsx-spread-attributes",text:"JSX \u4E2D\u7684\u5C5E\u6027\u5C55\u5F00 (JSX spread attributes)",depth:4},{id:"\u5408\u5E76\u89E3\u6784\u5C5E\u6027\u548C\u5176\u5B83\u503C-merge-destructured-props-with-other-values",text:"\u5408\u5E76\u89E3\u6784\u5C5E\u6027\u548C\u5176\u5B83\u503C (Merge destructured props with other values)",depth:4},{id:"\u6761\u4EF6\u6E32\u67D3-conditional-rendering",text:"\u6761\u4EF6\u6E32\u67D3 (Conditional rendering)",depth:4},{id:"\u6E32\u67D3\u5C5E\u6027-render-prop",text:"\u6E32\u67D3\u5C5E\u6027 (Render prop)",depth:4},{id:"\u4EE3\u7406\u7EC4\u4EF6-proxy-component",text:"\u4EE3\u7406\u7EC4\u4EF6 (Proxy component)",depth:4},{id:"\u6837\u5F0F\u7EC4\u4EF6-style-component",text:"\u6837\u5F0F\u7EC4\u4EF6 (Style component)",depth:4},{id:"\u7EC4\u7EC7\u4E8B\u4EF6-event-switch",text:"\u7EC4\u7EC7\u4E8B\u4EF6 (Event switch)",depth:4},{id:"\u5E03\u5C40\u7EC4\u4EF6-layout-component",text:"\u5E03\u5C40\u7EC4\u4EF6 (Layout component)",depth:4},{id:"\u5BB9\u5668\u7EC4\u4EF6-container-component",text:"\u5BB9\u5668\u7EC4\u4EF6 (Container component)",depth:4},{id:"\u9AD8\u9636\u7EC4\u4EF6-higher-order-component",text:"\u9AD8\u9636\u7EC4\u4EF6 (Higher-order component)",depth:4},{id:"\u53D7\u63A7\u7EC4\u4EF6",text:"\u53D7\u63A7\u7EC4\u4EF6",depth:4},{id:"sub-components",text:"sub Components",depth:4},{id:"context",text:"context",depth:4},{id:"createportal",text:"createPortal",depth:4},{id:"profiler",text:"Profiler",depth:4}],title:"",frontmatter:{}}}}]);