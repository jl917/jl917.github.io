"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["4271"],{95548:function(t,e,n){n.r(e);var r=n(85893),s=n(50065);function o(t){let e=Object.assign({h1:"h1",a:"a",p:"p",pre:"pre",code:"code"},(0,s.ah)(),t.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"\u4EAB\u5143\u6A21\u5F0Fflyweight-pattern",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4EAB\u5143\u6A21\u5F0Fflyweight-pattern",children:"#"}),"\u4EAB\u5143\u6A21\u5F0F(Flyweight Pattern)"]}),"\n",(0,r.jsx)(e.p,{children:"\u4E3B\u8981\u7528\u4E8E\u51CF\u5C11\u521B\u5EFA\u5BF9\u8C61\u7684\u6570\u91CF\uFF0C\u4EE5\u51CF\u5C11\u5185\u5B58\u5360\u7528\u548C\u63D0\u9AD8\u6027\u80FD\u3002\u8FD9\u79CD\u7C7B\u578B\u7684\u8BBE\u8BA1\u6A21\u5F0F\u5C5E\u4E8E\u7ED3\u6784\u578B\u6A21\u5F0F\uFF0C\u5B83\u63D0\u4F9B\u4E86\u51CF\u5C11\u5BF9\u8C61\u6570\u91CF\u4ECE\u800C\u6539\u5584\u5E94\u7528\u6240\u9700\u7684\u5BF9\u8C61\u7ED3\u6784\u7684\u65B9\u5F0F\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:'let textCount = 0;\nlet textAttrCount = 0;\n\nclass Text {\n  constructor() {\n    this.text = "";\n  }\n  add(text) {\n    this.text = text;\n    textCount++;\n  }\n}\n\nclass TextAttr {\n  constructor() {}\n  add(color, size) {\n    this.color = color;\n    this.size = size;\n    textAttrCount++;\n  }\n}\n\nclass TextFactory {\n  constructor() {\n    this.textObj = new Text();\n    this.resultText = [];\n  }\n  create(text, color, size) {\n    if (this.textObj.text != text) {\n      this.textObj = new Text();\n      this.textObj.add(text);\n    }\n    let textAttr = new TextAttr();\n    textAttr.add(color, size);\n    this.resultText.push({\n      id: this.textObj.text + textAttr.color + textAttr.size,\n      text: this.textObj.text,\n      color: textAttr.color,\n      size: textAttr.size,\n    });\n  }\n\n  get() {\n    return this.resultText;\n  }\n\n  getCount() {\n    return {\n      textCount,\n      textAttrCount,\n    };\n  }\n}\n\nexport default TextFactory;\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:'let text01 = new TextFactory();\ntext01.create("hello world", "red", 14);\ntext01.create("hello world", "blue", 16);\ntext01.create("hello world", "green", 15);\ntext01.create("what the fuck~", "gray", 30);\ntext01.get();\ntext01.getCount();\n'})})]})}function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),t.components);return e?(0,r.jsx)(e,Object.assign({},t,{children:(0,r.jsx)(o,t)})):o(t)}e.default=x,x.__RSPRESS_PAGE_META={},x.__RSPRESS_PAGE_META["algorithm%2Fpattern%2F11.md"]={toc:[],title:"\u4EAB\u5143\u6A21\u5F0F(Flyweight Pattern)",frontmatter:{}}}}]);