"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["7623"],{7548:function(e,n,s){s.r(n),s.d(n,{default:()=>o});var r=s(5893),i=s(65);function l(e){let n={a:"a",br:"br",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"reconciler",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#reconciler",children:"#"}),"Reconciler"]}),"\n",(0,r.jsxs)(n.h3,{id:"역할",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#역할",children:"#"}),"역할"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Function또는 class컴포넌트의 render 함수를 실행해서 jsx를 vdom으로 변경"}),"\n",(0,r.jsx)(n.li,{children:"새로운 vdom과 기존 vdom을 비교한다."}),"\n",(0,r.jsx)(n.li,{children:"diff통해서 변화한 부분을 체크한다."}),"\n",(0,r.jsx)(n.li,{children:"renderer를 통해서 DOM을 화면에 뿌려준다."}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"fiber관련-태그-설명",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fiber관련-태그-설명",children:"#"}),"fiber관련 태그 설명."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["type\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FunctionComponent ⇒ 함수자체"}),"\n",(0,r.jsx)(n.li,{children:"ClassComponent ⇒ 클래스"}),"\n",(0,r.jsx)(n.li,{children:"HostComponent ⇒ tagName"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["tag\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FunctionComponent"}),"\n",(0,r.jsx)(n.li,{children:"ClassComponent"}),"\n",(0,r.jsx)(n.li,{children:"HostComponent"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["effectTag\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Placement"}),"\n",(0,r.jsx)(n.li,{children:"Update"}),"\n",(0,r.jsx)(n.li,{children:"PlacementAndUpdate"}),"\n",(0,r.jsx)(n.li,{children:"Deletion"}),"\n",(0,r.jsx)(n.li,{children:"Passive"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"effectList(firstEffect, nextEffect, lastEffect)"}),"\n",(0,r.jsx)(n.li,{children:"stateNode => DOM객체 저장."}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"과정",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#과정",children:"#"}),"과정"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["render\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"beginWork"}),"\n",(0,r.jsx)(n.li,{children:"completeWork"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["commit\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before Mutation"}),"\n",(0,r.jsx)(n.li,{children:"mutation"}),"\n",(0,r.jsx)(n.li,{children:"layout"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h2,{id:"render단계",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#render단계",children:"#"}),"render단계"]}),"\n",(0,r.jsxs)(n.h3,{id:"beginwork",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#beginwork",children:"#"}),"beginWork"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(mount)fiber.tag에 따라 서로 다른 Fiber노드 생성."}),"\n",(0,r.jsx)(n.li,{children:"(update) 만약 current가 최적화 될수 있다면 current를 그대로 사용(Diff)"}),"\n",(0,r.jsx)(n.li,{children:"fiber에 EffectTag생성"}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"completework",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#completework",children:"#"}),"completeWork"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(mount)fiber.stateNode에 관련된 DOM노드 생성"}),"\n",(0,r.jsx)(n.li,{children:"(mount)children DOM노드를 생성된 fiber.stateNode DOM노드에 insert"}),"\n",(0,r.jsx)(n.li,{children:"(mount) props 처리"}),"\n",(0,r.jsx)(n.li,{children:"(update) fiber.updateQueue처리"}),"\n",(0,r.jsx)(n.li,{children:"(update) props diff 처리후 fiber.pendingProps에 저장."}),"\n",(0,r.jsx)(n.li,{children:"effectTag 생성된 fiber에 대해서 effectList에 추가."}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h2,{id:"commit",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commit",children:"#"}),"commit"]}),"\n",(0,r.jsxs)(n.h3,{id:"commit-start",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commit-start",children:"#"}),"commit start"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.del,{children:"effectList중 Passive 태그가 존재할 경우 flushPassiveEffects(Immediate) 실행."})}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"before-mutation-commitbeforemutationeffects",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#before-mutation-commitbeforemutationeffects",children:"#"}),"before mutation (commitBeforeMutationEffects)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"DOM노드 랜더/삭제후 focus, blur 관련 로직처리."}),"\n",(0,r.jsx)(n.li,{children:"getSnapshotBeforeUpdate(ClassComponent)"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"flashPassiveEffects (Normal)"})}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"mutation-commitmutationeffects",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mutation-commitmutationeffects",children:"#"}),"mutation (commitMutationEffects)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["effectTag에 따라 처리\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Placement"}),"\n",(0,r.jsxs)(n.li,{children:["Update\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["FunctionComponent\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"effectList에서 모든 useLayoutEffect의 destory 함수 실행."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["HostComponent\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"fiber.updateQueue중 대응하는 내용 화면에 랜딩."}),"\n",(0,r.jsx)(n.li,{children:"fiber.pendingProps내용 화면에 랜딩"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Deletion"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"layout-commitlayouteffects",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#layout-commitlayouteffects",children:"#"}),"layout (commitLayoutEffects)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["라이프사이클 및 hook 실행\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["FunctionComponent\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"useLayoutEffect 콜백 함수 실행.(sync)"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.del,{children:"useEffect destor 함수와 콜백함수 초기화(async)"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["classComponent\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"componentDidMount, componentDidUpdate"}),"\n",(0,r.jsx)(n.li,{children:"this.setState의 콜백함수 실행."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["HostRoot\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"render fn 콜백함수 실행."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"DOM Instance에 따라 ref업데이트"}),"\n",(0,r.jsx)(n.li,{children:"current Fiber 트리 변환"}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"layout-after",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#layout-after",children:"#"}),"layout After"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"fushPassiveEffects 실행(useEffect destor 및 useEffect callback)"}),"\n",(0,r.jsx)(n.li,{children:"flushSyncCallbackQueue 실행(예: useLayoutEffect 내부에 사용한 setState)"}),"\n"]}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h2,{id:"hostconfig-외부-apireact-dom-빌드시-해당-부분-함께-빌드",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hostconfig-외부-apireact-dom-빌드시-해당-부분-함께-빌드",children:"#"}),"hostConfig 외부 API(react-dom 빌드시 해당 부분 함께 빌드)"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(n.code,{className:"language-js",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ReactReconciler "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "react-reconciler"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" hostConfig"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  now"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" Date"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".now"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  getRootHostContext"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  clearContainer"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  prepareForCommit"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  resetAfterCommit"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  getChildHostContext"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  shouldSetTextContent"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  createInstance"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  createTextInstance"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  appendInitialChild"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  appendChild"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  finalizeInitialChildren"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  supportsMutation"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  appendChildToContainer"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  prepareUpdate"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  commitUpdate"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  commitTextUpdate"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  removeChild"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ReactReconcilerInst"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ReactReconciler"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(hostConfig);"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" render"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" (reactElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" domElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" callback) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  if"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"domElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"._rootContainer) {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(ReactReconcilerInst);"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"    domElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"._rootContainer "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ReactReconcilerInst"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".createContainer"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(domElement);"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"  // 컨테이너 업데이트"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ReactReconcilerInst"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".updateContainer"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(reactElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" domElement"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"._rootContainer"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" callback);"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" default"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  render"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:'// "react-reconciler": "0.26.2",'})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:'// "react": "17.0.2",'})})]})})}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"effectlist--subtreeflags",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#effectlist--subtreeflags",children:"#"}),"effectList => subtreeFlags"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"effectList인 경우"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/jl917/s/master/img/2022/08/03/20220803212122.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"subtreeFlags"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/jl917/s/master/img/2022/08/03/20220803212256.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"B의 effect는 Passive이고 bubble을 통해서 A로 이동, A.subtreeFlags에 Passive포함."}),"\n",(0,r.jsx)(n.li,{children:"E의 effect는 Placement이고 bubble통해서 D로 이동, D.subtreeFlags에 Placement포함."}),"\n",(0,r.jsx)(n.li,{children:"D.subtreeFlags에 Placement가 bubble통해서 C로 이동"}),"\n",(0,r.jsx)(n.li,{children:"C의 effect는 Update이고, C.subtreeFlags의 Placement가 bubble통해서 A로"}),"\n",(0,r.jsx)(n.li,{children:"A.subtreeFlags는 Passive、Placement、Update를 포함."}),"\n",(0,r.jsx)(n.li,{children:"commit단계에서 모든 tree를 순회하면서 처리."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://gist.github.com/jl917/059c3c47a521914cb8ed8fa2b5ff8569",rel:"noopener noreferrer",target:"_blank",children:"https://gist.github.com/jl917/059c3c47a521914cb8ed8fa2b5ff8569"})}),"\n",(0,r.jsx)(n.br,{}),"\n",(0,r.jsxs)(n.h3,{id:"참고",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#참고",children:"#"}),"참고"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://velog.io/@dev-mish-mash/%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EC%A1%B0%ED%99%94Reconciliation-%EA%B3%BC%EC%A0%95-%EC%A0%95%EB%A6%AC",rel:"noopener noreferrer",target:"_blank",children:"https://velog.io/@dev-mish-mash/%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EC%A1%B0%ED%99%94Reconciliation-%EA%B3%BC%EC%A0%95-%EC%A0%95%EB%A6%AC"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://beta-reactjs-org-git-effects-fbopensource.vercel.app/learn/render-and-commit",rel:"noopener noreferrer",target:"_blank",children:"https://beta-reactjs-org-git-effects-fbopensource.vercel.app/learn/render-and-commit"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://agent-hunt.medium.com/hello-world-custom-react-renderer-9a95b7cd04bc",rel:"noopener noreferrer",target:"_blank",children:"https://agent-hunt.medium.com/hello-world-custom-react-renderer-9a95b7cd04bc"})}),"\n"]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["note%2Freact%2Fsources%2F03.md"]={toc:[{id:"역할",text:"역할",depth:3},{id:"fiber관련-태그-설명",text:"fiber관련 태그 설명.",depth:3},{id:"과정",text:"과정",depth:3},{id:"render단계",text:"render단계",depth:2},{id:"beginwork",text:"beginWork",depth:3},{id:"completework",text:"completeWork",depth:3},{id:"commit",text:"commit",depth:2},{id:"commit-start",text:"commit start",depth:3},{id:"before-mutation-commitbeforemutationeffects",text:"before mutation (commitBeforeMutationEffects)",depth:3},{id:"mutation-commitmutationeffects",text:"mutation (commitMutationEffects)",depth:3},{id:"layout-commitlayouteffects",text:"layout (commitLayoutEffects)",depth:3},{id:"layout-after",text:"layout After",depth:3},{id:"hostconfig-외부-apireact-dom-빌드시-해당-부분-함께-빌드",text:"hostConfig 외부 API(react-dom 빌드시 해당 부분 함께 빌드)",depth:2},{id:"effectlist--subtreeflags",text:"effectList => subtreeFlags",depth:3},{id:"참고",text:"참고",depth:3}],title:"Reconciler",headingTitle:"Reconciler",frontmatter:{}}}}]);