"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["2377"],{95525:function(n,e,s){s.r(e);var r=s(85893),t=s(50065);function i(n){let e=Object.assign({h1:"h1",a:"a",ol:"ol",li:"li",h3:"h3",pre:"pre",code:"code"},(0,t.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"eslint",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#eslint",children:"#"}),"eslint"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"code"}),"\n",(0,r.jsx)(e.li,{children:"parser(esprima, @babel/eslint-parser, @typescript-eslint/parser)"}),"\n",(0,r.jsx)(e.li,{children:"AST"}),"\n",(0,r.jsx)(e.li,{children:"plugin(report or fix)"}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"build-option",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#build-option",children:"#"}),"build option"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:'// build.js\nrequire("esbuild")\n  .build({\n    entryPoints: ["./src/index.js"],\n    bundle: true,\n    minify: true,\n    platform: "node",\n    outfile: "./lib/index.js",\n    watch: true,\n  })\n  .then(() => console.log("\uBE4C\uB4DC\uC644\uB8CC"))\n  .catch(() => process.exit(1));\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:'// ./src/index.js\n// module.exports = {\n//   rules: {......},\n//   configs: {......},\n// }\nimport maxParams from "./rules/max-params";\n\nexport const rules = {\n  "max-params": maxParams,\n};\n\nexport const configs = {\n  recommended: {\n    plugins: ["jl"],\n    rules: {\n      "jl/max-params": ["warn", { max: 3 }],\n    },\n  },\n};\n\n// ./src/rules/max-params.js\n// https://astexplorer.net/\nexport default {\n  meta: {\n    docs: {\n      description: "enforce a maximum number of parameters in function definitions",\n      category: "Stylistic Issues", // https://cn.eslint.org/docs/rules/\n      recommended: false,\n    },\n  },\n  create: (context) => {\n    // https://eslint.org/docs/developer-guide/working-with-rules#the-context-object\n    // context: {\n    //   report,\n    //   id, // jl/max-params\n    //   options, // [{max: 3}, ......]\n    //   ......\n    // }\n    const fn = (node) => {\n      if (node.params.length > 3) {\n        // https://eslint.org/docs/developer-guide/working-with-rules\n        context.report({\n          node,\n          message: "\uD30C\uB77C\uBBF8\uD130\uB294 3\uAC1C \uC774\uC0C1 \uCD08\uACFC \uD560\uC218 \uC5C6\uC2B5\uB2C8\uB2E4." + context.options[0].max,\n        });\n      }\n    };\n    // https://esprima.readthedocs.io/en/latest/syntax-tree-format.html#expressions-and-patterns\n    return {\n      FunctionDeclaration: fn,\n      ArrowFunctionExpression: fn,\n      FunctionExpression: fn,\n    };\n  },\n};\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"use-plugin",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#use-plugin",children:"#"}),"use plugin"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",meta:"",children:'// .eslintrc.json\n{\n  "plugins": [\n    "jl"\n  ],\n  "extends": [\n    "plugin:jl/recommended"\n  ],\n  "rules": {\n    "jl/max-params": "off", // off, warn, error, 0, 1,2\n    "jl/max-params": ["warn", {"max": 3}],\n  }\n}\n'})})]})}function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(i,n)})):i(n)}e.default=a,a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["tools%2Fplugins%2Feslint.md"]={toc:[{id:"build-option",text:"build option",depth:3},{id:"use-plugin",text:"use plugin",depth:3}],title:"eslint",frontmatter:{}}}}]);